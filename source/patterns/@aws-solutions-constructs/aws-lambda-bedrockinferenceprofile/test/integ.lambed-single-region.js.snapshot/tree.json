{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.239.0"},"children":{"lambed-single-region":{"id":"lambed-single-region","path":"lambed-single-region","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.239.0"},"children":{"test-lambda-inferenceprops":{"id":"test-lambda-inferenceprops","path":"lambed-single-region/test-lambda-inferenceprops","constructInfo":{"fqn":"@aws-solutions-constructs/aws-lambda-bedrockinferenceprofile.LambdaToBedrockinferenceprofile","version":"2.99.0"},"children":{"LambdaFunctionServiceRole":{"id":"LambdaFunctionServiceRole","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunctionServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunctionServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"LambdaFunctionServiceRolePolicy","policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/lambda/*"]]}}],"Version":"2012-10-17"}}]}}}}},"LambdaFunction":{"id":"LambdaFunction","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"exports.handler = async (event) => { console.log(event); return {statusCode: 200, body: \"\"}; }"},"environment":{"variables":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1","BEDROCK_MODEL":"amazon.nova-lite-v1:0","BEDROCK_PROFILE":{"Fn::GetAtt":["testlambdainferencepropstestlambdainferencepropsinference01BBD7E6","InferenceProfileArn"]}}},"handler":"index.handler","role":{"Fn::GetAtt":["testlambdainferencepropsLambdaFunctionServiceRole102487FD","Arn"]},"runtime":"nodejs22.x","timeout":30,"tracingConfig":{"mode":"Active"}}}},"inlinePolicyAddedToExecutionRole-0":{"id":"inlinePolicyAddedToExecutionRole-0","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/inlinePolicyAddedToExecutionRole-0","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/inlinePolicyAddedToExecutionRole-0/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"testlambdainferencepropsLambdaFunctioninlinePolicyAddedToExecutionRole09A675D51","roles":[{"Ref":"testlambdainferencepropsLambdaFunctionServiceRole102487FD"}]}}}}},"inlinePolicyAddedToExecutionRole-1":{"id":"inlinePolicyAddedToExecutionRole-1","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/inlinePolicyAddedToExecutionRole-1","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/inlinePolicyAddedToExecutionRole-1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:Invoke*","Effect":"Allow","Resource":{"Fn::GetAtt":["testlambdainferencepropstestlambdainferencepropsinference01BBD7E6","InferenceProfileArn"]}}],"Version":"2012-10-17"},"policyName":"testlambdainferencepropsLambdaFunctioninlinePolicyAddedToExecutionRole1121B30C3","roles":[{"Ref":"testlambdainferencepropsLambdaFunctionServiceRole102487FD"}]}}}}},"inlinePolicyAddedToExecutionRole-2":{"id":"inlinePolicyAddedToExecutionRole-2","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/inlinePolicyAddedToExecutionRole-2","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.239.0"},"children":{"Resource":{"id":"Resource","path":"lambed-single-region/test-lambda-inferenceprops/LambdaFunction/inlinePolicyAddedToExecutionRole-2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"bedrock:Invoke*","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.nova-lite-v1:0"]]}}],"Version":"2012-10-17"},"policyName":"testlambdainferencepropsLambdaFunctioninlinePolicyAddedToExecutionRole2DBB277C5","roles":[{"Ref":"testlambdainferencepropsLambdaFunctionServiceRole102487FD"}]}}}}}}},"test-lambda-inferenceprops-area-prefix-mapping":{"id":"test-lambda-inferenceprops-area-prefix-mapping","path":"lambed-single-region/test-lambda-inferenceprops/test-lambda-inferenceprops-area-prefix-mapping","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.239.0"}},"test-lambda-inferenceprops-inference":{"id":"test-lambda-inferenceprops-inference","path":"lambed-single-region/test-lambda-inferenceprops/test-lambda-inferenceprops-inference","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrock.CfnApplicationInferenceProfile","version":"2.239.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Bedrock::ApplicationInferenceProfile","aws:cdk:cloudformation:props":{"inferenceProfileName":{"Fn::Join":["",["test-lambda-inferenceprops-",{"Fn::Select":[2,{"Fn::Split":["/",{"Ref":"AWS::StackId"}]}]}]]},"modelSource":{"copyFrom":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock:",{"Ref":"AWS::Region"},"::foundation-model/amazon.nova-lite-v1:0"]]}}}}},"test-lambda-inferenceprops-area-region-mapping":{"id":"test-lambda-inferenceprops-area-region-mapping","path":"lambed-single-region/test-lambda-inferenceprops/test-lambda-inferenceprops-area-region-mapping","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.239.0"}}}},"Integ":{"id":"Integ","path":"lambed-single-region/Integ","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"2.239.0-alpha.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"lambed-single-region/Integ/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"2.239.0-alpha.0"},"children":{"Default":{"id":"Default","path":"lambed-single-region/Integ/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.5.1"}},"DeployAssert":{"id":"DeployAssert","path":"lambed-single-region/Integ/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.239.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"lambed-single-region/Integ/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.239.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"lambed-single-region/Integ/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.239.0"}}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"lambed-single-region/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.239.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"lambed-single-region/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.239.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.5.1"}}}}}